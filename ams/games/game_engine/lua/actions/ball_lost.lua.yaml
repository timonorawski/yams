description: Ball exited bottom of screen - destroy ball and reset paddle
lua: |
  local action = {}

  function action.execute(ball_id, screen_id, modifier, context)
    -- context contains: trigger, target, target_x, target_y, target_active, distance, angle
    -- Destroy the ball
    ams.destroy(ball_id)

    -- Transform paddle back to paddle_ready state
    -- The paddle_ready entity handles the life loss via its own interaction
    local paddles = ams.get_entities_of_type("paddle")
    for _, paddle_id in ipairs(paddles) do
      ams.transform(paddle_id, "paddle_ready")
    end
  end

  return action
